<div data-controller="calendar" data-calendar-events-url-value="<%= events_calendar_index_path(format: :json) %>" data-calendar-create-url-value="<%= calendar_index_path %>">
<div class="calendar-container-custom">
  <div class="calendar-header">
    <div class="calendar-title">
      <h2 data-calendar-target="currentMonth">January 2026</h2>
      <div class="month-nav">
        <button data-action="click->calendar#prevMonth">‚Äπ</button>
        <button data-action="click->calendar#nextMonth">‚Ä∫</button>
      </div>
    </div>
    <div class="view-toggle">
      <button class="active">Month</button>
      <button>Week</button>
      <button>List</button>
    </div>
  </div>

  <div class="calendar-grid">
    <div class="calendar-weekdays">
      <div class="weekday">Sun</div>
      <div class="weekday">Mon</div>
      <div class="weekday">Tue</div>
      <div class="weekday">Wed</div>
      <div class="weekday">Thu</div>
      <div class="weekday">Fri</div>
      <div class="weekday">Sat</div>
    </div>
    <div class="calendar-days" data-calendar-target="calendarDays"></div>
  </div>
</div>

<%# Event Detail Modal %>
<div class="modal-overlay" data-calendar-target="eventModal" aria-hidden="true">
  <div class="modal-custom" role="dialog" aria-modal="true">
    <div class="modal-header-custom">
      <div class="modal-header-content">
        <span class="event-type-badge" data-calendar-target="modalEventType">Social</span>
        <h2 data-calendar-target="modalEventTitle">Event Title</h2>
        <div class="event-meta">
          <div class="event-meta-item">
            <span>üìÖ</span>
            <span data-calendar-target="modalEventDate">Date</span>
          </div>
          <div class="event-meta-item">
            <span>üïê</span>
            <span data-calendar-target="modalEventTime">Time</span>
          </div>
          <div class="event-meta-item">
            <span>üìç</span>
            <span data-calendar-target="modalEventLocation">Location</span>
          </div>
        </div>
      </div>
      <button class="close-modal" data-action="click->calendar#closeEventModal" aria-label="Close">√ó</button>
    </div>

    <div class="modal-body-custom">
      <div class="event-section">
        <div class="event-stats">
          <div class="stat">
            <span class="stat-value" data-calendar-target="modalAttendeeCount">0</span>
            <span class="stat-label">Attending</span>
          </div>
          <div class="stat">
            <span class="stat-value">0</span>
            <span class="stat-label">Maybe</span>
          </div>
          <div class="stat">
            <span class="stat-value">0</span>
            <span class="stat-label">Photos</span>
          </div>
        </div>
      </div>

      <div class="event-section">
        <h3>Event Photos</h3>
        <div class="event-images">
          <div class="event-image placeholder">üñºÔ∏è</div>
          <div class="event-image placeholder">üñºÔ∏è</div>
          <div class="event-image placeholder">üñºÔ∏è</div>
        </div>
      </div>

      <div class="event-section">
        <h3>About This Event</h3>
        <p class="event-description" data-calendar-target="modalEventDescription"></p>
      </div>

      <div class="event-section" data-calendar-target="modalTagsSection">
        <h3>Tags</h3>
        <div class="tags-container" data-calendar-target="modalTags"></div>
      </div>

      <div class="event-section">
        <h3>Who's Coming (<span data-calendar-target="modalAttendeeListCount">0</span>)</h3>
        <div class="attendees-grid" data-calendar-target="modalAttendeesList"></div>
      </div>

      <div class="event-section">
        <h3>Original Post</h3>
        <div class="timeline-post">
          <div data-calendar-target="modalTimelineText"></div>
          <div class="timeline-author">
            <div class="author-avatar"></div>
            <div class="author-info">
              <div class="author-name" data-calendar-target="modalAuthor"></div>
              <div class="post-time" data-calendar-target="modalPostTime"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer-custom">
      <button class="btn-custom btn-custom-secondary" data-action="click->calendar#closeEventModal">Close</button>
      <button class="btn-custom btn-custom-primary">I'm Attending</button>
    </div>
  </div>
</div>

<!-- Add Event Modal -->
<div class="modal-overlay" data-calendar-target="addEventModal" aria-hidden="true">
  <div class="modal-custom" role="dialog" aria-modal="true">
    <div class="modal-header-custom">
      <div class="modal-header-content">
        <h2>Create New Event</h2>
      </div>
      <button class="close-modal" data-action="click->calendar#closeAddEventModal" aria-label="Close">√ó</button>
    </div>
    <div class="modal-body-custom">
      <form data-calendar-target="addEventForm">
        <div class="form-group">
          <label>Event Title</label>
          <input type="text" name="title" placeholder="Holiday Potluck Dinner" required data-calendar-target="newEventTitle">
        </div>

        <div class="form-group">
          <label>Event Type</label>
          <select name="event_type" required data-calendar-target="newEventType">
            <option value="social">Social</option>
            <option value="meeting">Meeting</option>
            <option value="workshop">Workshop</option>
            <option value="community">Community</option>
            <option value="celebration">Celebration</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Date</label>
            <input type="date" name="date" required data-calendar-target="newEventDate">
          </div>
          <div class="form-group">
            <label>Time</label>
            <input type="time" name="time" required data-calendar-target="newEventTime">
          </div>
        </div>

        <div class="form-group">
          <label>Location</label>
          <input type="text" name="location" placeholder="Community Hall" data-calendar-target="newEventLocation">
        </div>

        <div class="form-group">
          <label>Description</label>
          <textarea name="description" placeholder="Tell everyone about your event..." data-calendar-target="newEventDescription"></textarea>
        </div>
      </form>
    </div>
    <div class="modal-footer-custom">
      <button class="btn-custom btn-custom-secondary" data-action="click->calendar#closeAddEventModal">Cancel</button>
      <button class="btn-custom btn-custom-primary" data-action="click->calendar#createEvent">Create Event</button>
    </div>
  </div>
</div>
</div>
